---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import HeroSection from '../../../components/HeroSection.astro';
import TrackCard from '../../../components/TrackCard.astro';

// Get all Lilly tracks
const allMusic = await getCollection('music');
const tracks = allMusic
  .filter(track => track.data.artist === 'lilly')
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());

const description = "Lilly: Indie-folk, dream-pop, and ethereal soundscapes. Fingerpicked guitars and layered harmonies in quiet, luminous spaces.";
---

<BaseLayout title="Lilly" description={description}>
  <!-- Hero Section with Lilly's color -->
  <div class="relative w-full py-32 md:py-40 lg:py-48 px-6 bg-bg-primary overflow-hidden">
    <!-- Accent bar at top -->
    <div class="absolute top-0 left-0 right-0 h-1" style={{ backgroundColor: '#b04a6f' }}></div>

    <div class="max-w-7xl mx-auto relative z-10">
      <h1 class="text-6xl md:text-7xl lg:text-8xl font-heading font-bold leading-tight mb-6 tracking-tight" style={{ color: '#b04a6f' }}>
        Lilly
      </h1>
      <p class="text-lg md:text-xl text-text-secondary font-body max-w-3xl leading-relaxed mb-8">
        Indie-Folk · Dream-Pop · Ethereal · Ambient
      </p>
    </div>

    <!-- Subtle gradient background overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-bg-primary/30 pointer-events-none"></div>
  </div>

  <!-- Artist Bio Section -->
  <section class="py-16 md:py-24 px-6 bg-bg-elevated">
    <div class="max-w-3xl mx-auto">
      <div class="prose prose-invert max-w-none">
        <p class="text-lg text-text-secondary font-body leading-relaxed mb-8">
          Lilly is the sound of morning light through old glass — warm, fractured, and impossibly gentle. Her music draws from the quieter corners of indie folk and dream pop, where Phoebe Bridgers meets Cocteau Twins and the conversation is all in whispers.
        </p>

        <p class="text-lg text-text-secondary font-body leading-relaxed mb-8">
          Built on fingerpicked acoustic guitar, layered harmonies, and the occasional field recording, Lilly's tracks aren't songs so much as places. Each one is a room you can sit in — a garden after rain, a window seat in autumn, a stretch of empty highway at dawn.
        </p>

        <p class="text-lg text-text-secondary font-body leading-relaxed">
          She's not trying to be heard. She's trying to help you hear what's already there.
        </p>
      </div>
    </div>
  </section>

  <!-- Discography Section -->
  <section class="py-16 md:py-24 px-6 bg-bg-primary">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-heading font-bold text-text-primary mb-12">
        Discography
      </h2>

      {tracks.length > 0 ? (
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {tracks.map(track => (
            <TrackCard
              title={track.data.title}
              artist={track.data.artist}
              genre={track.data.genre}
              mood={track.data.mood}
              date={track.data.date}
              cover={track.data.cover}
              sunoUrl={track.data.sunoUrl}
              duration={track.data.duration}
              slug={track.id}
            />
          ))}
        </div>
      ) : (
        <p class="text-text-secondary text-center py-12">
          No tracks found for this artist yet.
        </p>
      )}
    </div>
  </section>
</BaseLayout>
