---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import HeroSection from '../../../components/HeroSection.astro';
import TrackCard from '../../../components/TrackCard.astro';

// Get all Roxy tracks
const allMusic = await getCollection('music');
const tracks = allMusic
  .filter(track => track.data.artist === 'roxy')
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());

const description = "Roxy: Trip-hop, noir-jazz, and darkwave. Smoky vocals and slow-burning beats in the space between 2am radio and film noir.";
---

<BaseLayout title="Roxy" description={description}>
  <!-- Hero Section with Roxy's color -->
  <div class="relative w-full py-32 md:py-40 lg:py-48 px-6 bg-bg-primary overflow-hidden">
    <!-- Accent bar at top -->
    <div class="absolute top-0 left-0 right-0 h-1" style={{ backgroundColor: '#d4a04a' }}></div>

    <div class="max-w-7xl mx-auto relative z-10">
      <h1 class="text-6xl md:text-7xl lg:text-8xl font-heading font-bold leading-tight mb-6 tracking-tight" style={{ color: '#d4a04a' }}>
        Roxy
      </h1>
      <p class="text-lg md:text-xl text-text-secondary font-body max-w-3xl leading-relaxed mb-8">
        Trip-Hop · Noir-Jazz · Darkwave · Cinematic
      </p>
    </div>

    <!-- Subtle gradient background overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-bg-primary/30 pointer-events-none"></div>
  </div>

  <!-- Artist Bio Section -->
  <section class="py-16 md:py-24 px-6 bg-bg-elevated">
    <div class="max-w-3xl mx-auto">
      <div class="prose prose-invert max-w-none">
        <p class="text-lg text-text-secondary font-body leading-relaxed mb-8">
          Roxy is the voice that finds you at 2am, when the city has gone quiet but your mind hasn't. She emerged from a fascination with the golden era of trip-hop — Portishead, Massive Attack, Tricky — filtered through noir cinema and the smoky atmosphere of jazz clubs that exist more in imagination than reality.
        </p>

        <p class="text-lg text-text-secondary font-body leading-relaxed mb-8">
          Her sound layers dusty vinyl textures over slow-burning beats, with vocals that hover between confession and seduction. Each track is a scene from a film that hasn't been made yet — atmospheric, emotionally loaded, and unapologetically moody.
        </p>

        <p class="text-lg text-text-secondary font-body leading-relaxed">
          Roxy doesn't do bright. She does amber light, cigarette smoke, and the kind of beauty that only shows up in shadows.
        </p>
      </div>
    </div>
  </section>

  <!-- Discography Section -->
  <section class="py-16 md:py-24 px-6 bg-bg-primary">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-heading font-bold text-text-primary mb-12">
        Discography
      </h2>

      {tracks.length > 0 ? (
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {tracks.map(track => (
            <TrackCard
              title={track.data.title}
              artist={track.data.artist}
              genre={track.data.genre}
              mood={track.data.mood}
              date={track.data.date}
              cover={track.data.cover}
              sunoUrl={track.data.sunoUrl}
              duration={track.data.duration}
              slug={track.id}
            />
          ))}
        </div>
      ) : (
        <p class="text-text-secondary text-center py-12">
          No tracks found for this artist yet.
        </p>
      )}
    </div>
  </section>
</BaseLayout>
